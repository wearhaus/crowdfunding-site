<html>
	<head>
		<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
		<link rel="stylesheet" type="text/css" href="../static/css/style.css">
		<link rel="stylesheet" type="text/css" href="../static/css/icons.css">
		<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900' rel='stylesheet' type='text/css'>
		<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
		<script src="../static/js/jquery.knob.js"></script>
		<script language="javascript" type="text/javascript" src="../static/js/wearhaus.js"></script>
        <script>
            $(function($) {
				var	colors = ["#fff", "#0ff", "#0f0", "#ff0", "#fa0", "#f33", "#fe00fe"]//, "8070FA"],
					color_words = ["white", "cyan", "green", "yellow", "orange", "red", "red"]//, "red"],
					bodybg = "#1b1b1b",
					start = 1;
					
				var	sections = colors.length,
					arcAngle = 360/sections,
					fillBorder = 2;

				var currentLightColor = "cyan", currentBaseColor = "black";
				$(".headphone-stage").css(
					"background-image",
					"url('../static/img/headphones/WH_" + currentBaseColor + "_side_" + currentLightColor + ".jpg')"
				);

				function LED(color) {
					console.log(color);
					currentLightColor = color_words[color];
					$(".headphone-stage").css(
						"background-image",
						"url('../static/img/headphones/WH_" + currentBaseColor + "_side_" + currentLightColor + ".jpg')"
					);
				}

				$("input.wheel")
				.attr("value", start)
				.knob({
					width:			240,
					height:			240,
					thickness:		.07,
					cursor:			36,
					angleOffset:	25.71,
					min : 			0,
					max : 			sections,
					bgColor:		bodybg,
					fgColor:		colors[start],
					stopper: 		false,
					displayInput:	false,

					//Handler functions for click/scroll - will call transition function
					change : function (v) {
						v %= sections;
						this.o.fgColor = colors[v];
						LED(v);
					},

					release : function (v) {
						this.o.fgColor = colors[this.cv % sections];
						this._draw();
					}
				});

                $("input.color")
                .each(
					function(i, e) {
						$(e).attr('data-bgColor', colors[$(e).data('index')]);
						$(e).attr('data-angleOffset', arcAngle*parseInt($(e).data('index')));
					})
                .knob({
					width:			200,
					height:			200,
					thickness:		.3,
					angleArc:		arcAngle,
					displayInput:	false,
					readonly:		true,
				});

                $("input.fill")
                .each(
					function(i, e) {
						$(e).attr('data-angleOffset', arcAngle*parseInt($(e).data('index')) + fillBorder);
					})
				.knob({
					width:			196,
					height:			196,
					thickness:		.27,
					angleArc:		arcAngle - 2*fillBorder,
					bgColor:		bodybg,
					displayInput:	false,
					readonly:		true,
				});

				$("input.blackwhite-checkbox")
				.change(function() {
					//console.log($(this).is(":checked") ? "white" : "black");
					currentBaseColor = $(this).is(":checked") ? "white" : "black";
					$(".headphone-stage").css(
						"background-image",
						"url('../static/img/headphones/WH_" + currentBaseColor + "_side_" + currentLightColor + ".jpg')"
					);
				});           
            });
        </script>

	</head>
	<body>

		<!-- Nav bar content -->
		<div class="nav">
			<div class="logo-container">
				<div class="logo-thumb"></div>
				<p>WEARHAUS</p>
			</div>
			<div id="preorder-container">
				<div id="button-outer">
					<div id="button" onclick="window.open('https://checkout.wearhaus.com/preorder/checkout/amount')">
						<h1>PRE-ORDER NOW</h1>
					</div>
				</div>
				<!--<p id="savings-text">Get yours early. Save $50</p>-->
			</div>
			<div class="meter-container">
				<div id="stats">
					<div class="stat"><p><strong>{{backers}}</strong></p><p>BACKERS</p></div>
					<div class="stat"><p><strong>${{raised}}</strong><p>OF ${{goal}}</p></div>
					<div class="stat"><p><strong>{{days_remaining}}</strong></p><p>DAYS LEFT</p></div>
				</div>
				<div class="meter">
					<span style="width:{{progress}}%"></span>
				</div>
			</div>
		</div>

		<!-- Shortcut icons -->
		<div id="shortcuts">
			<ul>
				<li>
					<a href="#home" class="inner home"></a>
					<p class="home">HOME</p>
				</li>
				<li>
					<a href="#social" class="inner social"></a>
					<p class="social">SOCIAL</p>
				</li>
				<li>
					<a href="#customize" class="inner customize"></a>
					<p class="customize">CUSTOMIZE</p>
				</li>
				<li>
					<a href="#interface" class="inner interface"></a>
					<p class="interface">INTERFACE</p>
				</li>
				<li>
					<a href="#touch" class="inner touch"></a>
					<p class="touch">TOUCH</p>
				</li>
				<li>
					<a href="#details" class="inner details"></a>
					<p class="details">DETAILS</p>
				</li>
				<li>
					<a href="#story" class="inner story"></a>
					<p class="story">OUR STORY</p>
				</li>
			</ul>
		</div>

		<!-- Main carousel content -->
		<div class="carousel">
			<!-- Video slide -->
			<div class="slide" id="home">
				<div id="headphone-img">
					<div id="play-button">
						<div class="outer-play">
							<div class="inner-play">
								<div id="play-symbol"></div>
							</div>
						</div>
					</div>
					<div id="video-container">
						<iframe id="campaign-video" width="853" height="480" src="" frameborder="0" allowfullscreen></iframe>
						<div class="x"></div>
					</div>
					<div id="cta">
						{% if code %}
						<p>ENTER THE CODE <strong>{{code}}</strong> AT CHECKOUT AND SAVE ${{50 + discount}} OR MORE</p>
						{% else %}
						<p>SAVE $50 OR MORE</p>
						{% endif %}
					</div>
				</div>
			</div>
			<!-- Social slide -->
			<div class="slide" id="social">
				<div id="social-text-container">
					<p id="social-text">WIRELESSLY SHARE</p>
					<p id="social-text">MUSIC WITH YOUR FRIENDS</p>
				</div>
			</div>
			<!-- Personalization slide -->
			<div class="slide" id="customize">
				<div class="personalize-container">
					<div class="headphone-stage">
						<div style="width:300px;">	</div>
					</div>
					<div class="palette-container">
						<p id="personalize-text">YOUR MUSIC</p>
						<p id="personalize-text">YOUR COLOR</p>
						<div class="palette">	
							<div class="color-container">
								<input class="color" data-index=0>
							</div>
							<div class="color-container">
								<input class="color" data-index=1>
							</div>
							<div class="color-container">
								<input class="color" data-index=2>
							</div>
							<div class="color-container">
								<input class="color" data-index=3>
							</div>
							<div class="color-container">
								<input class="color" data-index=4>
							</div>
							<div class="color-container">
								<input class="color" data-index=5>
							</div>
							<div class="color-container">
								<input class="color" data-index=6>
							</div>
							<div class="color-container">
								<input class="color" data-index=7>
							</div>
							<div class="fill-container">
								<input class="fill" data-index=0>
							</div>
							<div class="fill-container">
								<input class="fill" data-index=1>
							</div>
							<div class="fill-container">
								<input class="fill" data-index=2>
							</div>
							<div class="fill-container">
								<input class="fill" data-index=3>
							</div>
							<div class="fill-container">
								<input class="fill" data-index=4>
							</div>
							<div class="fill-container">
								<input class="fill" data-index=5>
							</div>
							<div class="fill-container">
								<input class="fill" data-index=6>
							</div>
							<div class="fill-container">
								<input class="fill" data-index=7>
							</div>
							<div class="wheel-container">
								<input class="wheel">
							</div>
						</div>
						<div class="blackwhite">
								<input type="checkbox" name="blackwhite" class="blackwhite-checkbox" id="basecolor">
								<label class="blackwhite-label" for="basecolor">
									<div class="blackwhite-inner"></div>
									<div class="blackwhite-switch"></div>
								</label>
							</div>
					</div>
				</div>

			</div>

			<!-- Interface slide -->
			<div class="slide" id="interface">
				<div id="interface-container">
					<div id="iphone-background">
						<div id="iphone-app">
							<iframe src="http://gfycat.com/iframe/ElegantAcidicHarborseal" frameborder="0" scrolling="no" width="237" height="403"></iframe>
						</div>
					</div>
					<div id="interface-text-container">
						<div id="interface-text-vertical-align">
							<h1 id="interface-text">BROWSE WHAT SONGS YOUR NEARBY FRIENDS ARE LISTENING TO.
							</h1>
						</div>
					</div>
				</div>
			</div>

			<!-- Touch control slide -->
			<div class="slide" id="touch">
				<div id="cinemagraph">
					<div class="player video" id="player-hd-cqXAGR0IS" data-media="hd-cqXAGR0IS">
						<video id="video-hd-cqXAGR0IS" autoplay="true" loop="true" poster="https://cdn.mediacru.sh/hd-cqXAGR0IS.jpg" width="100%">
							<source src="https://cdn.mediacru.sh/hd-cqXAGR0IS.mp4" type="video/mp4;">
							<source src="https://cdn.mediacru.sh/hd-cqXAGR0IS.webm" type="video/webm;">
							<source src="https://cdn.mediacru.sh/hd-cqXAGR0IS.ogv" type="video/ogg">
							<img src="https://cdn.mediacru.sh/hd-cqXAGR0IS.jpg" width="100%" />
						</video>
					</div>
					<script type="text/javascript">
					document.addEventListener('DOMContentLoaded', function(e) {
						var player = new MediaPlayer(document.getElementById('player-hd-cqXAGR0IS'));
					}, false);
					</script>
				</div>
				<div id="touch-container">
					<div id="touch-text-container">
						<div id="details-text-table">
							<div id="details-text-center">
								<h1 class="details-text">INTUITIVE TOUCH CONTROLS</h1>
								<br>
								<p class="details-text">Volume</p>
								<p class="details-text">Play/Pause</p>
								<p class="details-text">Next/Prev</p>
								<p class="details-text">Broadcast</p>
								<p class="details-text">Join</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Details slide -->
			<div class="slide" id="details">
				<div id="details-container">
					<div id="details-headphone-container">
						<div id="details-headphone-image">
						</div>
					</div>
					<div id="details-text-container">
						<div id="details-text-table">
							<div id="details-text-center">
								<h1 class="details-text">SUPERIOR SOUND,</h1>
								<h1 class="details-text">COMFORT, AND DURABILITY</h1>
								<br>
								<p class="details-text">40mm dual diaphragm drivers</p>
								<p class="details-text">Memory foam cushions</p>
								<p class="details-text">Capacitive touch playback controls</p>
								<p class="details-text">30m Bluetooth range</p>
								<p class="details-text">16 hours individual playback. 12 hours while sharing.</p>
								<p class="details-text">Backup AUX cable included.</p>
							</div>
						</div>
					</div>
				</div>	
			</div>

			<!-- Story slide -->
			<div class="slide" id="story">
				<div id="story-container">
					<div id="story-video-container">
						<iframe width="853" height="480" src="http://www.youtube.com/embed/gEz2zazyaCE?rel=0&color=white" frameborder="0" allowfullscreen></iframe>
					</div>
					<div id="bottom-preorder-container">
						<div id="bottom-button-outer">
							<div id="bottom-button" onclick="window.open('https://checkout.wearhaus.com/preorder/checkout/amount')">
								<h1>PRE-ORDER NOW</h1>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Footer -->
		<div class="footer">
			<div id="footer-nav">
				<ul>
					<li><a href="/press"><p>PRESS</p></a></li>
					<li><a href="/faq"><p>FAQ</p></a></li>
					<li><a href="http://jobs.wearhaus.com/" target="_blank"><p>JOBS</p></a></li>
					<li><a href="mailto:team@wearhaus.com"><p>CONTACT</p></a></li>
				</ul>
			</div>
		</div>
		<script type="text/javascript"> 
			var ftRandom = Math.random()*1000000; 

			document.write('<iframe style="position:absolute; visibility:hidden; width:1px; height:1px;" src="http://servedby.flashtalking.com/container/4943;29237;3452;iframe/?spotName=Homepage&cachebuster='+ftRandom+'"></iframe>');
		</script>
	</body>
</html>
